(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{301:function(e,t,n){"use strict";n.r(t);var a=n(0),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[e._m(0),n("blockquote",[n("p",[n("strong",[e._v("Note:")]),e._v(" This feature works only on weex's native platforms (i.e., on Android and iOS), but not on the web with latest "),n("a",{attrs:{href:"https://github.com/weexteam/weex-vue-render",target:"_blank",rel:"noopener noreferrer"}},[e._v("web renderer"),n("OutboundLink")],1),e._v(" yet.")])]),n("p",[e._v("If you are a web developer, then you are probably familiar with the event bubbling mechanism, and you may expect Weex to work the same way. However, Weex didn't implement this mechiansim util version 0.13.")]),n("p",[e._v("To those developers who are not familiar with the event bubbling, Here are some explanations about it, and the concept is rather easy.")]),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5),e._m(6),e._m(7),e._m(8),e._m(9),e._m(10),e._m(11),n("p",[e._v("In the event handler function, you can use the "),n("code",[e._v("event.stopPropagation()")]),e._v(" method to prevent the event from escalating, which is exactly like the event's method with the same name in "),n("a",{attrs:{href:"https://dom.spec.whatwg.org/#dom-event-stoppropagation",target:"_blank",rel:"noopener noreferrer"}},[e._v("DOM standard"),n("OutboundLink")],1),e._v(". Note that "),n("code",[e._v("event.stopPropagation()")]),e._v(" differs from "),n("code",[e._v('bubble = "true"')]),e._v(", which affects only the current elements and the propagation of parent elements, without affecting the propagation of child elements; the latter is a switching mechanism that is added for compatibility, Will be a global shutdown or open the bubble mechanism, the two can co-exist.")]),e._m(12),e._m(13),e._m(14),e._m(15),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"http://dotwe.org/vue/fa2957ce3e9eb47ad9ae1da22d845e95",target:"_blank",rel:"noopener noreferrer"}},[e._v("enable event bubbling"),n("OutboundLink")],1),e._v(": Use Weex playground APP to scan the qr-code, and then click on the middle of the rectangle with a line of text 'click me' on, you can see the event bubbling up, being handled with every listener binding on each div element, printing messages which indicate that they are indeed been reached by the event.")])]),n("li",[n("p",[n("a",{attrs:{href:"http://dotwe.org/vue/2cc80e19c9b2430fb780234628065a69",target:"_blank",rel:"noopener noreferrer"}},[e._v("stop event propagation"),n("OutboundLink")],1),e._v(": Use Weex playground APP to scan the qr-code, and then click on the middle of the rectangle with a line of text 'click me' on, you can see the event bubbling is disturbed, no longer continue to spread to the root element.")])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",{staticClass:"api-version"},[this._v("v0.13+")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"concept"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#concept"}},[this._v("#")]),this._v(" Concept")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Take clicking as a example. When a click event fired on a "),t("code",[this._v("<video>")]),this._v(" element that has a parent element (e.g. a parent "),t("code",[this._v("div")]),this._v(" component), web browsers run two different phases - the capturing phase and the bubbling phase. We use bubbling phase a lot in web development, and use capturing less.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In the capturing phase, The browser checks to see if the element's outer-most ancestor (on web, may be a "),t("code",[this._v("<html>")]),this._v(") has an corresponding event handler registered on it, and runs it if so. Then it moves on to the next element inside "),t("code",[this._v("<html>")]),this._v(" and does the same thing, then the next one, and so on until it reaches the element that was actually clicked on.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In the bubbling phase, the exact opposite occurs: The browser checks to see if the element that was actually clicked on has an onclick event handler registered on it in the bubbling phase, and runs it if so. Then it moves on to the next immediate ancestor element and does the same thing, then the next one, and so on until it reaches the "),t("code",[this._v("<html>")]),this._v(" element.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:"https://mdn.mozillademos.org/files/14075/bubbling-capturing.png",alt:"event bubbling concept"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("We usually register our event listeners on the bubbling phase, so that we use bubbling a lot. But if you want to turn this off, you can use "),t("code",[this._v("stopPropagation")]),this._v(" method of the event object. The standard event object has a function available on it called "),t("code",[this._v("stopPropagation")]),this._v(", which when invoked on a handler's event object makes it so that handler is run, but the event doesn't bubble any further up the chain, so no more handlers will be run.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Weex implemented this event bubbling phase in the 0.13 SDK, and for the record, the event bubbling phase is not enabled by default - You should use a attribute "),t("code",[this._v("bubble=true")]),this._v(" on the root element to turn this feature on.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"how-to-use"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use"}},[this._v("#")]),this._v(" How To Use")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The event bubbling is not enabled by default, you should use "),t("code",[this._v('bubble="true"')]),this._v(" in the root element to turn it on.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("\x3c!-- Use it in the root element to turn it on. --\x3e")]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("div")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("bubble")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("true"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    ...\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"stop-bubbling"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#stop-bubbling"}},[this._v("#")]),this._v(" Stop Bubbling")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("handleClick")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[e._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Stop event propagation.")]),e._v("\n    event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("stopPropagation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"notice"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#notice"}},[this._v("#")]),this._v(" Notice")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("One thing should be noticed: "),t("strong",[this._v("For compatibility reason, Weex does not turn on event bubbling by default. You need to add "),t("code",[this._v('bubble = "true"')]),this._v(" on the root element's properties to turn on the bubbling mechanism. Otherwise, Weex will keep working in the old way, without the event bubbling effect.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"examples"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[this._v("#")]),this._v(" Examples")])}],!1,null,null,null);t.default=s.exports}}]);